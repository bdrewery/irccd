\hypertarget{a00041}{\section{irccd\-:\-:Luae\-Class Class Reference}
\label{a00041}\index{irccd\-::\-Luae\-Class@{irccd\-::\-Luae\-Class}}
}


Support for object oriented programming between C++ and Lua.  


\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{a00024}{Def}
\begin{DoxyCompactList}\small\item\em Definition of a class. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \hyperlink{a00041_aa25ef6181e424ebf3d1fa42df2bdf145}{Methods} = std\-::vector$<$ lua\-L\-\_\-\-Reg $>$
\item 
{\footnotesize template$<$typename T $>$ }\\using \hyperlink{a00041_a213f5d206d7bcfe4712ed9eacad9f0ce}{Ptr} = std\-::shared\-\_\-ptr$<$ T $>$
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{a00041_a4f540d4aa456d5d2e739c091a93da892}{create} (lua\-\_\-\-State $\ast$L, const \hyperlink{a00024}{Def} \&def)
\item 
{\footnotesize template$<$typename T $>$ }\\static void \hyperlink{a00041_aae08da22d887cb16f2a27712d5a9d1b0}{push\-Shared} (lua\-\_\-\-State $\ast$L, \hyperlink{a00041_a213f5d206d7bcfe4712ed9eacad9f0ce}{Ptr}$<$ T $>$ o, const std\-::string \&name)
\item 
{\footnotesize template$<$typename T $>$ }\\static \hyperlink{a00041_a213f5d206d7bcfe4712ed9eacad9f0ce}{Ptr}$<$ T $>$ \hyperlink{a00041_ab54c0cd64b8c5f09f8547c08b5a70452}{get\-Shared} (lua\-\_\-\-State $\ast$L, int index, const char $\ast$meta)
\item 
{\footnotesize template$<$typename T $>$ }\\static int \hyperlink{a00041_a74effe9d447bd20f37b74be343adb63c}{delete\-Shared} (lua\-\_\-\-State $\ast$L, int index)
\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const char $\ast$ \hyperlink{a00041_a3e37a95a21a5679bfa8b6aef60e90a37}{Field\-Name} = \char`\"{}\-\_\-\-\_\-name\char`\"{}
\item 
static const char $\ast$ \hyperlink{a00041_a7a3e4d84ade883c52375f88ad3ad8e04}{Field\-Parents} = \char`\"{}\-\_\-\-\_\-parents\char`\"{}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Support for object oriented programming between C++ and Lua. 

This class provides functions for passing and retrieving objects from C++ and Lua. 

\subsection{Member Typedef Documentation}
\hypertarget{a00041_aa25ef6181e424ebf3d1fa42df2bdf145}{\index{irccd\-::\-Luae\-Class@{irccd\-::\-Luae\-Class}!Methods@{Methods}}
\index{Methods@{Methods}!irccd::LuaeClass@{irccd\-::\-Luae\-Class}}
\subsubsection[{Methods}]{\setlength{\rightskip}{0pt plus 5cm}using {\bf irccd\-::\-Luae\-Class\-::\-Methods} =  std\-::vector$<$lua\-L\-\_\-\-Reg$>$}}\label{a00041_aa25ef6181e424ebf3d1fa42df2bdf145}
Methods for a class. \hypertarget{a00041_a213f5d206d7bcfe4712ed9eacad9f0ce}{\index{irccd\-::\-Luae\-Class@{irccd\-::\-Luae\-Class}!Ptr@{Ptr}}
\index{Ptr@{Ptr}!irccd::LuaeClass@{irccd\-::\-Luae\-Class}}
\subsubsection[{Ptr}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ using {\bf irccd\-::\-Luae\-Class\-::\-Ptr} =  std\-::shared\-\_\-ptr$<$T$>$}}\label{a00041_a213f5d206d7bcfe4712ed9eacad9f0ce}
Smart pointer for \hyperlink{a00040}{Luae} objects. 

\subsection{Member Function Documentation}
\hypertarget{a00041_a4f540d4aa456d5d2e739c091a93da892}{\index{irccd\-::\-Luae\-Class@{irccd\-::\-Luae\-Class}!create@{create}}
\index{create@{create}!irccd::LuaeClass@{irccd\-::\-Luae\-Class}}
\subsubsection[{create}]{\setlength{\rightskip}{0pt plus 5cm}void irccd\-::\-Luae\-Class\-::create (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L, }
\item[{const {\bf Def} \&}]{def}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{a00041_a4f540d4aa456d5d2e739c091a93da892}
Initialize a new object.


\begin{DoxyParams}{Parameters}
{\em L} & the Lua state \\
\hline
{\em def} & the definition \\
\hline
\end{DoxyParams}
\hypertarget{a00041_a74effe9d447bd20f37b74be343adb63c}{\index{irccd\-::\-Luae\-Class@{irccd\-::\-Luae\-Class}!delete\-Shared@{delete\-Shared}}
\index{delete\-Shared@{delete\-Shared}!irccd::LuaeClass@{irccd\-::\-Luae\-Class}}
\subsubsection[{delete\-Shared}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ static int irccd\-::\-Luae\-Class\-::delete\-Shared (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L, }
\item[{int}]{index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{a00041_a74effe9d447bd20f37b74be343adb63c}
Delete the shared pointer at the given index. This function does not check if the type is valid for performance reason. And because it's usually called in \-\_\-\-\_\-gc, there is no reason to check.

Also return 0 the \-\_\-\-\_\-gc method can directly call return \hyperlink{a00041_a74effe9d447bd20f37b74be343adb63c}{Luae\-Class\-::delete\-Shared}(...)


\begin{DoxyParams}{Parameters}
{\em L} & the Lua state \\
\hline
{\em index} & the index \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 for convenience 
\end{DoxyReturn}
\hypertarget{a00041_ab54c0cd64b8c5f09f8547c08b5a70452}{\index{irccd\-::\-Luae\-Class@{irccd\-::\-Luae\-Class}!get\-Shared@{get\-Shared}}
\index{get\-Shared@{get\-Shared}!irccd::LuaeClass@{irccd\-::\-Luae\-Class}}
\subsubsection[{get\-Shared}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ static {\bf Ptr}$<$T$>$ irccd\-::\-Luae\-Class\-::get\-Shared (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L, }
\item[{int}]{index, }
\item[{const char $\ast$}]{meta}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{a00041_ab54c0cd64b8c5f09f8547c08b5a70452}
Get an object from Lua that was previously push with push\-Shared.


\begin{DoxyParams}{Parameters}
{\em L} & the Lua state \\
\hline
{\em index} & the object index \\
\hline
{\em meta} & the object metatable name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the object 
\end{DoxyReturn}
\hypertarget{a00041_aae08da22d887cb16f2a27712d5a9d1b0}{\index{irccd\-::\-Luae\-Class@{irccd\-::\-Luae\-Class}!push\-Shared@{push\-Shared}}
\index{push\-Shared@{push\-Shared}!irccd::LuaeClass@{irccd\-::\-Luae\-Class}}
\subsubsection[{push\-Shared}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ static void irccd\-::\-Luae\-Class\-::push\-Shared (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L, }
\item[{{\bf Ptr}$<$ T $>$}]{o, }
\item[{const std\-::string \&}]{name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{a00041_aae08da22d887cb16f2a27712d5a9d1b0}
Push a shared object to Lua, it also push it to the \char`\"{}\-\_\-\-\_\-refs\char`\"{} table with \-\_\-\-\_\-mode = \char`\"{}v\char`\"{}. That is if we need to push the object again we use the same reference so Lua get always the same userdata and gain the following benefits\-:


\begin{DoxyEnumerate}
\item The user can use the userdata as table key
\item A performance gain thanks to less allocations
\end{DoxyEnumerate}


\begin{DoxyParams}{Parameters}
{\em L} & the Lua state \\
\hline
{\em o} & the object to push \\
\hline
{\em name} & the object metatable name \\
\hline
\end{DoxyParams}


\subsection{Member Data Documentation}
\hypertarget{a00041_a3e37a95a21a5679bfa8b6aef60e90a37}{\index{irccd\-::\-Luae\-Class@{irccd\-::\-Luae\-Class}!Field\-Name@{Field\-Name}}
\index{Field\-Name@{Field\-Name}!irccd::LuaeClass@{irccd\-::\-Luae\-Class}}
\subsubsection[{Field\-Name}]{\setlength{\rightskip}{0pt plus 5cm}const char $\ast$ irccd\-::\-Luae\-Class\-::\-Field\-Name = \char`\"{}\-\_\-\-\_\-name\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}}\label{a00041_a3e37a95a21a5679bfa8b6aef60e90a37}
The field stored in the object metatable about the object metatable name. \hypertarget{a00041_a7a3e4d84ade883c52375f88ad3ad8e04}{\index{irccd\-::\-Luae\-Class@{irccd\-::\-Luae\-Class}!Field\-Parents@{Field\-Parents}}
\index{Field\-Parents@{Field\-Parents}!irccd::LuaeClass@{irccd\-::\-Luae\-Class}}
\subsubsection[{Field\-Parents}]{\setlength{\rightskip}{0pt plus 5cm}const char $\ast$ irccd\-::\-Luae\-Class\-::\-Field\-Parents = \char`\"{}\-\_\-\-\_\-parents\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}}\label{a00041_a7a3e4d84ade883c52375f88ad3ad8e04}
The field that holds all parent classes. It is used to verify casts. 

The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
\hyperlink{a00089}{Luae.\-h}\item 
Luae.\-cpp\end{DoxyCompactItemize}
