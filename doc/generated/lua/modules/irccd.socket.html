<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Irccd Lua API Documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<h1>Navigation</h1>
<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Tables">Tables</a></li>
<li><a href="#Class_Socket">Class Socket </a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/irccd.html">irccd</a></li>
  <li><a href="../modules/irccd.logger.html">irccd.logger</a></li>
  <li><a href="../modules/irccd.parser.html">irccd.parser</a></li>
  <li><a href="../modules/irccd.plugin.html">irccd.plugin</a></li>
  <li><a href="../modules/irccd.server.html">irccd.server</a></li>
  <li><strong>irccd.socket</strong></li>
  <li><a href="../modules/irccd.socket.address.html">irccd.socket.address</a></li>
  <li><a href="../modules/irccd.socket.listener.html">irccd.socket.listener</a></li>
  <li><a href="../modules/irccd.thread.html">irccd.thread</a></li>
  <li><a href="../modules/irccd.thread.pipe.html">irccd.thread.pipe</a></li>
  <li><a href="../modules/irccd.util.html">irccd.util</a></li>
</ul>
<h2>Topics</h2>
<ul class="nowrap">
  <li><a href="../topics/1-Introduction.md.html">1-Introduction.md</a></li>
  <li><a href="../topics/1.1-Standard-Libraries.md.html">1.1-Standard-Libraries.md</a></li>
  <li><a href="../topics/2-Plugin_creation.md.html">2-Plugin_creation.md</a></li>
  <li><a href="../topics/2.1-Using_irccd_test.md.html">2.1-Using_irccd_test.md</a></li>
  <li><a href="../topics/2.2-List_of_Events.md.html">2.2-List_of_Events.md</a></li>
  <li><a href="../topics/3-Event-Action.md.html">3-Event-Action.md</a></li>
  <li><a href="../topics/3-Event-Channel-notice.md.html">3-Event-Channel-notice.md</a></li>
  <li><a href="../topics/3-Event-Command.md.html">3-Event-Command.md</a></li>
  <li><a href="../topics/3-Event-Connect.md.html">3-Event-Connect.md</a></li>
  <li><a href="../topics/3-Event-Invite.md.html">3-Event-Invite.md</a></li>
  <li><a href="../topics/3-Event-Join.md.html">3-Event-Join.md</a></li>
  <li><a href="../topics/3-Event-Kick.md.html">3-Event-Kick.md</a></li>
  <li><a href="../topics/3-Event-Load.md.html">3-Event-Load.md</a></li>
  <li><a href="../topics/3-Event-Message.md.html">3-Event-Message.md</a></li>
  <li><a href="../topics/3-Event-Mode.md.html">3-Event-Mode.md</a></li>
  <li><a href="../topics/3-Event-Names.md.html">3-Event-Names.md</a></li>
  <li><a href="../topics/3-Event-Nick.md.html">3-Event-Nick.md</a></li>
  <li><a href="../topics/3-Event-Notice.md.html">3-Event-Notice.md</a></li>
  <li><a href="../topics/3-Event-Part.md.html">3-Event-Part.md</a></li>
  <li><a href="../topics/3-Event-Query.md.html">3-Event-Query.md</a></li>
  <li><a href="../topics/3-Event-Reload.md.html">3-Event-Reload.md</a></li>
  <li><a href="../topics/3-Event-Topic.md.html">3-Event-Topic.md</a></li>
  <li><a href="../topics/3-Event-Unload.md.html">3-Event-Unload.md</a></li>
  <li><a href="../topics/3-Event-User-mode.md.html">3-Event-User-mode.md</a></li>
  <li><a href="../topics/3-Event-Whois.md.html">3-Event-Whois.md</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/Connect.lua.html">Connect.lua</a></li>
  <li><a href="../examples/Formatting.lua.html">Formatting.lua</a></li>
  <li><a href="../examples/Welcome.lua.html">Welcome.lua</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>irccd.socket</code></h1>

<p>Sockets.</p>
<p> This API provides support for low level sockets. It currently
 suports AF<em>INET, AF</em>INET6 and AF_LOCAL (on Unix only).</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#new">new (family, type)</a></td>
	<td class="summary">Create a new socket.</td>
	</tr>
</table>
<h2><a href="#Tables">Tables</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#family">family</a></td>
	<td class="summary">Socket address family</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#type">type</a></td>
	<td class="summary">Socket type</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#protocol">protocol</a></td>
	<td class="summary">Socket protocol</td>
	</tr>
</table>
<h2><a href="#Class_Socket">Class Socket </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Socket:accept">Socket:accept ()</a></td>
	<td class="summary">Accept a client.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Socket:bind">Socket:bind (address)</a></td>
	<td class="summary">Bind to an address.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Socket:blockMode">Socket:blockMode (mode)</a></td>
	<td class="summary">Set the blocking mode.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Socket:close">Socket:close ()</a></td>
	<td class="summary">Close the sockets.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Socket:connect">Socket:connect (address)</a></td>
	<td class="summary">Connect to an end point.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Socket:listen">Socket:listen (count)</a></td>
	<td class="summary">Listen to a number of pending connections.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Socket:receive">Socket:receive (howmany)</a></td>
	<td class="summary">Receive some data.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Socket:receiveFrom">Socket:receiveFrom (howmany, from)</a></td>
	<td class="summary">Receive some data.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Socket:send">Socket:send (data)</a></td>
	<td class="summary">Send some data.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Socket:send">Socket:send (data, address)</a></td>
	<td class="summary">Send some data.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Socket:set">Socket:set (level, name, arg)</a></td>
	<td class="summary">Set an option.</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    <dl class="function">
    <dt>
    <a name = "new"></a>
    <strong>new (family, type)</strong>
    </dt>
    <dd>
    Create a new socket.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">family</span>
         one of the irccd.socket.family
        </li>
        <li><span class="parameter">type</span>
         one of the irccd.socket.type
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        the created socket or nil</li>
        <li>
        the error message</li>
    </ol>




</dd>
</dl>
    <h2><a name="Tables"></a>Tables</h2>
    <dl class="function">
    <dt>
    <a name = "family"></a>
    <strong>family</strong>
    </dt>
    <dd>
    Socket address family

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">Inet</span>
        AF_INET (IPv4) family.
        </li>
        <li><span class="parameter">Inet6</span>
        AF_INET6 (IPv6) family.
        </li>
        <li><span class="parameter">Unix</span>
        AF_LOCAL (Unix) family, only on Unix.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "type"></a>
    <strong>type</strong>
    </dt>
    <dd>
    Socket type

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">Stream</span>
        SOCK_STREAM sockets
        </li>
        <li><span class="parameter">Datagram</span>
        SOCK_DGRAM sockets
        </li>
    </ul>





</dd>
    <dt>
    <a name = "protocol"></a>
    <strong>protocol</strong>
    </dt>
    <dd>
    Socket protocol

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">Tcp</span>
        IPPROTO_TCP
        </li>
        <li><span class="parameter">Udp</span>
        IPPROTO_UDP
        </li>
        <li><span class="parameter">IPv4</span>
        IPPROTO_IPV4
        </li>
        <li><span class="parameter">IPv6</span>
        IPPROTO_IPv6
        </li>
    </ul>





</dd>
</dl>
    <h2><a name="Class_Socket"></a>Class Socket </h2>

    <dl class="function">
    <dt>
    <a name = "Socket:accept"></a>
    <strong>Socket:accept ()</strong>
    </dt>
    <dd>
    Accept a client.


    <h3>Returns:</h3>
    <ol>
        <li>
        the accepted socket (or nil)</li>
        <li>
        the socket information (or nil)</li>
        <li>
        the error message if any</li>
    </ol>




</dd>
    <dt>
    <a name = "Socket:bind"></a>
    <strong>Socket:bind (address)</strong>
    </dt>
    <dd>

<p>Bind to an address.
 As a convenience, this function may accept nil plus the error
 message for chained expression like:</p>
<pre><code>s:bind(address.unix("/tmp/file.sock"))
</code></pre>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">address</span>
         the address
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        true on success</li>
        <li>
        the error message</li>
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../modules/irccd.socket.address.html#">irccd.socket.address</a>
    </ul>


</dd>
    <dt>
    <a name = "Socket:blockMode"></a>
    <strong>Socket:blockMode (mode)</strong>
    </dt>
    <dd>
    Set the blocking mode.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">mode</span>
         the mode
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        true on success</li>
        <li>
        the error message</li>
    </ol>




</dd>
    <dt>
    <a name = "Socket:close"></a>
    <strong>Socket:close ()</strong>
    </dt>
    <dd>
    Close the sockets.
 This function is required when you have finished using the socket,
 the __gc metamethod will not close the socket.






</dd>
    <dt>
    <a name = "Socket:connect"></a>
    <strong>Socket:connect (address)</strong>
    </dt>
    <dd>
    Connect to an end point.
 Like Socket:bind, you can pass nil plus an error message as
 parameters.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">address</span>
         the address
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        true on success</li>
        <li>
        the error message</li>
    </ol>


    <h3>See also:</h3>
    <ul>
         <li><a href="../modules/irccd.socket.html#Socket:bind">Socket:bind</a></li>
         <li><a href="../modules/irccd.socket.address.html#">irccd.socket.address</a></li>
    </ul>


</dd>
    <dt>
    <a name = "Socket:listen"></a>
    <strong>Socket:listen (count)</strong>
    </dt>
    <dd>
    Listen to a number of pending connections.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">count</span>
         an optional count, default: 64.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        true on success</li>
        <li>
        the error message</li>
    </ol>




</dd>
    <dt>
    <a name = "Socket:receive"></a>
    <strong>Socket:receive (howmany)</strong>
    </dt>
    <dd>
    Receive some data.
 Get some data as a stream mode.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">howmany</span>
         how much to receive
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        the read string or nil</li>
        <li>
        the error message</li>
    </ol>




</dd>
    <dt>
    <a name = "Socket:receiveFrom"></a>
    <strong>Socket:receiveFrom (howmany, from)</strong>
    </dt>
    <dd>
    Receive some data.
 Get some data from a peer, typically UDP.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">howmany</span>
         how much to receive
        </li>
        <li><span class="parameter">from</span>
         the address from
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        the read string or nil</li>
        <li>
        the error message</li>
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../modules/irccd.socket.address.html#">irccd.socket.address</a>
    </ul>


</dd>
    <dt>
    <a name = "Socket:send"></a>
    <strong>Socket:send (data)</strong>
    </dt>
    <dd>
    Send some data.
 This function sends data to a stream based socket.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">data</span>
         the data
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        the number of bytes sent or nil</li>
        <li>
        the error message</li>
    </ol>




</dd>
    <dt>
    <a name = "Socket:send"></a>
    <strong>Socket:send (data, address)</strong>
    </dt>
    <dd>
    Send some data.
 This function sends data to a datagram based socket

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">data</span>
         the data
        </li>
        <li><span class="parameter">address</span>
         where to send
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        the number of bytes sent or nil</li>
        <li>
        the error message</li>
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../modules/irccd.socket.address.html#">irccd.socket.address</a>
    </ul>


</dd>
    <dt>
    <a name = "Socket:set"></a>
    <strong>Socket:set (level, name, arg)</strong>
    </dt>
    <dd>
    Set an option.
 This function is a wrapper around the setsockopt function. Level and
 name are string which may refer to the following:
 <br /><br /></p>

<p> Levels available:
 <ul>
 <li><span class="parameter">socket</span>: the SOL_SOCKET level</li>
 <li><span class="parameter">tcp</span>: the IPPROTO_TCP level</li>
 <li><span class="parameter">ipv6</span>: the IPPROTO_IPV6 level</li>
 </ul>
 <br /></p>

<p> The following options belong to <span class="parameter">socket</span>
 level:</p>

<p> <ul></p>

<p> <li>
 <span class="parameter">reuse-address</span>: bool, reuse the
 address.
 </li></p>

<p> <li>
 <span class="parameter">broadcast</span>: bool, sending broadcast
 data
 </li></p>

<p> <li>
 <span class="parameter">debug</span>: bool, print debug
 information
 </li></p>

<p> <li>
 <span class="parameter">keep-alive</span>: bool, enable sending
 keep alive packets
 </li>
 </ul></p>

<p> <br /></p>

<p> The following options belong to <span class="parameter">tcp</span>
 level:</p>

<p> <ul></p>

<p> <li>
 <span class="parameter">no-delay</span>: bool, Disables the Nagle
 algorithm for send coalescing
 </li>
 </ul></p>

<p> <br /></p>

<p> The following options belong to <span class="parameter">ipv6</span>
 level:</p>

<p> <ul>
 <li>
 <span class="parameter">v6only</span>: bool, disable or enable the
 IPv6 mode only
 </li>
 </ul>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">level</span>
         the level
        </li>
        <li><span class="parameter">name</span>
         the name
        </li>
        <li><span class="parameter">arg</span>
         the argument (depend on above)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        true on success or nil</li>
        <li>
        the error message</li>
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.0</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
