<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Irccd Lua API Documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<h1>Navigation</h1>
<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Conversion_flags">Conversion flags </a></li>
<li><a href="#Class_Date">Class Date </a></li>
<li><a href="#Date_metamethods">Date metamethods </a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><strong>irccd.util</strong></li>
  <li><a href="../modules/irccd.fs.html">irccd.fs</a></li>
  <li><a href="../modules/irccd.html">irccd</a></li>
  <li><a href="../modules/irccd.logger.html">irccd.logger</a></li>
  <li><a href="../modules/irccd.parser.html">irccd.parser</a></li>
  <li><a href="../modules/irccd.thread.pipe.html">irccd.thread.pipe</a></li>
  <li><a href="../modules/irccd.plugin.html">irccd.plugin</a></li>
  <li><a href="../modules/irccd.server.html">irccd.server</a></li>
  <li><a href="../modules/irccd.socket.html">irccd.socket</a></li>
  <li><a href="../modules/irccd.socket.address.html">irccd.socket.address</a></li>
  <li><a href="../modules/irccd.socket.listener.html">irccd.socket.listener</a></li>
  <li><a href="../modules/irccd.system.html">irccd.system</a></li>
  <li><a href="../modules/irccd.thread.html">irccd.thread</a></li>
</ul>
<h2>Topics</h2>
<ul class="nowrap">
  <li><a href="../topics/1-Introduction.md.html">1-Introduction.md</a></li>
  <li><a href="../topics/1.1-Standard-Libraries.md.html">1.1-Standard-Libraries.md</a></li>
  <li><a href="../topics/2-Plugin_creation.md.html">2-Plugin_creation.md</a></li>
  <li><a href="../topics/2.1-Using_irccd_test.md.html">2.1-Using_irccd_test.md</a></li>
  <li><a href="../topics/2.2-List_of_Events.md.html">2.2-List_of_Events.md</a></li>
  <li><a href="../topics/3-Event-Action.md.html">3-Event-Action.md</a></li>
  <li><a href="../topics/3-Event-Channel-notice.md.html">3-Event-Channel-notice.md</a></li>
  <li><a href="../topics/3-Event-Command.md.html">3-Event-Command.md</a></li>
  <li><a href="../topics/3-Event-Connect.md.html">3-Event-Connect.md</a></li>
  <li><a href="../topics/3-Event-Invite.md.html">3-Event-Invite.md</a></li>
  <li><a href="../topics/3-Event-Join.md.html">3-Event-Join.md</a></li>
  <li><a href="../topics/3-Event-Kick.md.html">3-Event-Kick.md</a></li>
  <li><a href="../topics/3-Event-Load.md.html">3-Event-Load.md</a></li>
  <li><a href="../topics/3-Event-Message.md.html">3-Event-Message.md</a></li>
  <li><a href="../topics/3-Event-Mode.md.html">3-Event-Mode.md</a></li>
  <li><a href="../topics/3-Event-Names.md.html">3-Event-Names.md</a></li>
  <li><a href="../topics/3-Event-Nick.md.html">3-Event-Nick.md</a></li>
  <li><a href="../topics/3-Event-Notice.md.html">3-Event-Notice.md</a></li>
  <li><a href="../topics/3-Event-Part.md.html">3-Event-Part.md</a></li>
  <li><a href="../topics/3-Event-Query.md.html">3-Event-Query.md</a></li>
  <li><a href="../topics/3-Event-Reload.md.html">3-Event-Reload.md</a></li>
  <li><a href="../topics/3-Event-Topic.md.html">3-Event-Topic.md</a></li>
  <li><a href="../topics/3-Event-Unload.md.html">3-Event-Unload.md</a></li>
  <li><a href="../topics/3-Event-User-mode.md.html">3-Event-User-mode.md</a></li>
  <li><a href="../topics/3-Event-Whois.md.html">3-Event-Whois.md</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/Connect.lua.html">Connect.lua</a></li>
  <li><a href="../examples/Formatting.lua.html">Formatting.lua</a></li>
  <li><a href="../examples/Server.lua.html">Server.lua</a></li>
  <li><a href="../examples/Welcome.lua.html">Welcome.lua</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>irccd.util</code></h1>

<p>Utilitities.</p>
<p> Some utilities.</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#convert">convert (line, args, flags)</a></td>
	<td class="summary">Convert a string.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#date">date (timestamp)</a></td>
	<td class="summary">Create a Date object.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#format">format (text, attrs)</a></td>
	<td class="summary">Format text with colors and attributes.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#splituser">splituser (user)</a></td>
	<td class="summary">Split the nickname.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#splithost">splithost (user)</a></td>
	<td class="summary">Split the hostname.</td>
	</tr>
</table>
<h2><a href="#Conversion_flags">Conversion flags </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#ConvertEnv">ConvertEnv</a></td>
	<td class="summary">Convert environnement variables with ${VAR} syntax.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ConvertHome">ConvertHome</a></td>
	<td class="summary">Convert home variable with ~.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ConvertDate">ConvertDate</a></td>
	<td class="summary">Convert date and time with %.</td>
	</tr>
</table>
<h2><a href="#Class_Date">Class Date </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Date:calendar">Date:calendar ()</a></td>
	<td class="summary">Get a calendar.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Date:format">Date:format (format)</a></td>
	<td class="summary">Format a date with a format.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Date:timestamp">Date:timestamp ()</a></td>
	<td class="summary">Return the timestamp.</td>
	</tr>
</table>
<h2><a href="#Date_metamethods">Date metamethods </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Date:__eq">Date:__eq (other)</a></td>
	<td class="summary">Test equality.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Date:__le">Date:__le (other)</a></td>
	<td class="summary">Test inferiority</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Date:__tostring">Date:__tostring ()</a></td>
	<td class="summary">Convert object to string.</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    <dl class="function">
    <dt>
    <a name = "convert"></a>
    <strong>convert (line, args, flags)</strong>
    </dt>
    <dd>
    Convert a string.
 Create a new string with common patterns, date, environnement variables
 substituted.</p>

<p> <br />
 The table args may have any of the common pattern character and its value. If
 you want to use ConvertDate, you can specify the timestamp by setting the
 date field to a specific timestamp, otherwise the current time is used.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">line</span>
         the line to convert
        </li>
        <li><span class="parameter">args</span>
         the args, see above
        </li>
        <li><span class="parameter">flags</span>
         optional flags as table sequence
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        a converted string
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">
 <span class="keyword">local</span> keywords = {
	m = <span class="string">"the message"</span>,
	c = <span class="string">"#staff"</span>,
	date = mytimestamp
 }

 <span class="keyword">local</span> flags = { util.ConvertDate }
 <span class="keyword">local</span> result = util.convert(<span class="string">"#m on #c at %H:%M"</span>, keywords, flags)</pre>
    </ul>

</dd>
    <dt>
    <a name = "date"></a>
    <strong>date (timestamp)</strong>
    </dt>
    <dd>
    Create a Date object.
 This function returns a date object with a specific time from the
 system. If no timestamp is provided, it use the current date.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">timestamp</span>
         an optional timestamp
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        a Date object
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../modules/irccd.util.html#Date">Date</a>
    </ul>


</dd>
    <dt>
    <a name = "format"></a>
    <strong>format (text, attrs)</strong>
    </dt>
    <dd>
    Format text with colors and attributes.
 The table attrs may have the following fields:
 <ul>
 <li><strong>fg (int)</strong>: the foreground color</li>
 <li><strong>bg (int)</strong>: the background color</li>
 <li><strong>attrs (table or int)</strong>: may be a sequence or one attribute</li>
 </ul>
 <br />
 <strong>Note: some attributes are not available on all IRC servers and
 colours are based on mIRC, nothing standard.</strong>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">text</span>
         the text to format
        </li>
        <li><span class="parameter">attrs</span>
         the parameters, see above
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        a string ready to be sent
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../examples/Formatting.lua.html#">Formatting.lua</a>
    </ul>


</dd>
    <dt>
    <a name = "splituser"></a>
    <strong>splituser (user)</strong>
    </dt>
    <dd>
    Split the nickname.
 Extract the nickname from a user, for instance with
 foo!~foo@localhost, foo will be returned.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">user</span>
         the user to split
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        the nickname
    </ol>




</dd>
    <dt>
    <a name = "splithost"></a>
    <strong>splithost (user)</strong>
    </dt>
    <dd>
    Split the hostname.
 Extract the hostname from a user, for instance with
 foo!~foo@localhost, localhost will be returned.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">user</span>
         the user to split
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        the nickname
    </ol>




</dd>
</dl>
    <h2><a name="Conversion_flags"></a>Conversion flags </h2>

    <dl class="function">
    <dt>
    <a name = "ConvertEnv"></a>
    <strong>ConvertEnv</strong>
    </dt>
    <dd>
    Convert environnement variables with ${VAR} syntax.






</dd>
    <dt>
    <a name = "ConvertHome"></a>
    <strong>ConvertHome</strong>
    </dt>
    <dd>
    Convert home variable with ~.






</dd>
    <dt>
    <a name = "ConvertDate"></a>
    <strong>ConvertDate</strong>
    </dt>
    <dd>
    Convert date and time with %.






</dd>
</dl>
    <h2><a name="Class_Date"></a>Class Date </h2>

    <dl class="function">
    <dt>
    <a name = "Date:calendar"></a>
    <strong>Date:calendar ()</strong>
    </dt>
    <dd>
    Get a calendar.
 Return a table with the following fields:
 <ul>
 <li><strong>seconds (int)</strong>: seconds elapsed [0-60]</li>
 <li><strong>minutes (int)</strong>: minutes elapsed [0-59]</li>
 <li><strong>hours (int)</strong>: hours elapsed [0-23]</li>
 <li><strong>month (int)</strong>: number of month [1-12]</li>
 <li><strong>year (int)</strong>: the real year</li>
 </ul>


    <h3>Returns:</h3>
    <ol>

        a table
    </ol>




</dd>
    <dt>
    <a name = "Date:format"></a>
    <strong>Date:format (format)</strong>
    </dt>
    <dd>
    Format a date with a format.
 See the manual strftime(3) for keywords.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">format</span>
         the format
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        the date formatted
    </ol>




</dd>
    <dt>
    <a name = "Date:timestamp"></a>
    <strong>Date:timestamp ()</strong>
    </dt>
    <dd>
    Return the timestamp.
 Get the timestamp from the epoch (aka time_t).


    <h3>Returns:</h3>
    <ol>

        a timestamp
    </ol>




</dd>
</dl>
    <h2><a name="Date_metamethods"></a>Date metamethods </h2>

 The metamethods available for object Date.
    <dl class="function">
    <dt>
    <a name = "Date:__eq"></a>
    <strong>Date:__eq (other)</strong>
    </dt>
    <dd>
    Test equality.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">other</span>
         the other date
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        true if they equals
    </ol>




</dd>
    <dt>
    <a name = "Date:__le"></a>
    <strong>Date:__le (other)</strong>
    </dt>
    <dd>
    Test inferiority

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">other</span>
         the other date
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self &lt;= other comparison
    </ol>




</dd>
    <dt>
    <a name = "Date:__tostring"></a>
    <strong>Date:__tostring ()</strong>
    </dt>
    <dd>
    Convert object to string.


    <h3>Returns:</h3>
    <ol>

        a string
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.0</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
