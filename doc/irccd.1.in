.\"
.\" Copyright (c) 2011, 2012, 2013 David Demelier <markand@malikania.fr>
.\"
.\" Permission to use, copy, modify, and/or distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd MONTH DAY, YEAR
.Dt IRCCD 1
.Os
.Sh NAME
.Nm irccd
.Nd an IRC client daemon
.Sh SYNOPSIS
.Nm irccd
.Op Fl v
.Op Fl c Ar config
.Sh DESCRIPTION
The irccd program aims to provide an IRC client that acts as a daemon.
.Pp
The features are listed below:
.Bl -bullet
.It
Connect to one or more servers,
.It
Use different identities for each servers,
.It
Manageable by UNIX or Internet TCP sockets,
.It
Highly extensible with Lua plugins,
.El
.Pp
The application run as daemon and wait for events in both IRC servers
or from the irccdctl(8) utility.
.Pp
For instance, when IRC events happen, it calls Lua functions from plugins to
execute specific actions. Example: someone join the channel, the
.Nm irccd
daemon will notify all plugins that a specific user joined.
.Pp
But it is also possible to use irccdctl(8) to control
.Nm irccd .
For instance, you may want at any time to change the nick of the irccd daemon,
is it possible with one command.
.Pp
The following options are available:
.Bl -tag -width indent
.It Fl c Ar config
A path to a config file.
.It Fl v
Be more verbose
.El
.\" LUA INTERFACE
.Sh LUA INTERFACE
This expose the Lua function that are called with their parameters. That
section is only for short information.
.Pp
For more
information about all irccd Lua API, see
.Em @DOCDIR@/irccd/lua/index.html .
.\" Connect
.Ss Connect
This event is triggered usually at startup, when
.Nm irccd
successfully connected to a server.
.Bd -literal -offset indent
function onConnect(server)
.Ed
.Pp
Parameters:
.Bl -tag -compact -width PARAMETERXXXX -offset indent
.It server
The current server.
.El
.\" Join
.Ss Join
This event is triggered when someone has joined a specific channel.
.Bd -literal -offset indent
function onJoin(server, channel, nickname)
.Ed
.Pp
.Pp
Parameters:
.Bl -tag -compact -width PARAMETERXXXX -offset indent
.It server
The current server.
.It channel
The channel the user has joined.
.It nickname
The user nickname.
.El
.\" Message
.Ss Message
This event is triggered when someone said something on a specific channel.
.Ss Part
This event is triggered when someone has left a specific channel.
.\" SUPPORTED SOCKET MESSAGES
.Sh SUPPORTED SOCKET MESSAGES
This section explain how to control
.Nm irccd
with socket messages. While a lot of people should use irccdctl(8) to control
.Nm irccd
sometimes it is useful to connect to it directly.
.Pp
Almost all messages require server as first argument, it's one defined in the
irccd.conf(5) file.
.Pp
The syntax of each message is a simple ASCII string that ends with a trailing '\\n'.
Optional parameters are enclosed betweens brackets.
.\" JOIN
.Ss JOIN
This command is used to join a specific channel. Note that a leading '#' is required
in the channel name.
.Bd -literal -offset indent
JOIN server channel [password]\\n
.Ed
.Pp
Parameters:
.Bl -tag -compact -width PARAMETERXXXX -offset indent
.It server
The server.
.It channel
The channel name prepended by a '#'
.It password
An optional password
.El
.\" KICK
.Ss KICK
Kick someone from a channel. You obviously need to have +o mode on that
channel.
.Bd -literal -offset indent
KICK server nick channel [reason]
.Ed
.Pp
Parameters:
.Bl -tag -compact -width PARAMETERXXXX -offset indent
.It server
The server.
.It nick
The nickname to kick.
.It channel
The channel prepended by a '#' to kick from
.It reason
An optional reason.
.El
.\" ME
.Ss ME
This command is used to send a message to a global channel or to a private
as CTCP ACTION. Usual IRC clients report that like: "* foo is eating a cake."
.Bd -literal -offset indent
ME server target message\\n
.Ed
.Pp
Parameters:
.Bl -tag -compact -width PARAMETERXXXX -offset indent
.It server
The server.
.It target
A channel or a private query.
.It message
The message.
.El
.\" MSG
.Ss MSG
This command is used to send a message to a global channel or to a private query.
.Bd -literal -offset indent
MSG server target message\\n
.Ed
.Pp
Parameters:
.Bl -tag -compact -width PARAMETERXXXX -offset indent
.It server
The server.
.It target
A channel or a private query.
.It message
The message.
.El
.\" NICK
.Ss NICK
This commands is used to change the nickname of the irccd client but only for a
specific server. If you want to change your nick you must do it for every
server defined in irccd.conf(5).
.Bd -literal -offset indent
NICK server nickname\\n
.Ed
.Pp
Parameters:
.Bl -tag -compact -width PARAMETERXXXX -offset indent
.It server
The server.
.It nickname
The new nickname.
.El
.\" SEE ALSO
.Sh SEE ALSO
.Xr irccdctl 8 ,
.Xr irccd.conf 5
.\" AUTHORS
.Sh AUTHORS
irccd was written by David Demelier <markand@malikania.fr>
